var _this=this;function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}!function(){"use strict";var e={},t=_this&&_this.__await||function(e){return this instanceof t?(this.v=e,this):new t(e)},i=_this&&_this.__asyncGenerator||function(e,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=n.apply(e,i||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(e){r[e]&&(s[e]=function(t){return new Promise((function(i,n){o.push([e,t,i,n])>1||h(e,t)}))})}function h(e,i){try{(n=r[e](i)).value instanceof t?Promise.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function c(e){h("next",e)}function u(e){h("throw",e)}function d(e,t){e(t),o.shift(),o.length&&h(o[0][0],o[0][1])}},n=_this&&_this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,s){(function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)})(n,s,(t=e[i](t)).done,t.value)}))}}};e.Stats=e.Learnsets=e.Type=e.Types=e.Natures=e.Conditions=e.Specie=e.Species=e.Moves=e.Items=e.Abilities=e.Generation=e.Generations=e.toID=void 0;var s=function(e){return!!e.exists&&((!("isNonstandard"in e)||!e.isNonstandard)&&(("Ability"!==e.kind||"noability"!==e.id)&&!("tier"in e&&["Illegal","Unreleased"].includes(e.tier))))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?(e>>>0)%2**t:e>>>0};function o(e,t,i){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&!i.has(n)&&(e[n]=t[n]);return e}function a(e){return(null==e?void 0:e.id)&&(e=e.id),"string"!=typeof e&&"number"!=typeof e?"":(""+e).toLowerCase().replace(/[^a-z0-9]+/g,"")}e.toID=a;var h=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;this.cache=Object.create(null),this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){return this.cache[e]?this.cache[e]:this.cache[e]=new c(this.dex.forGen(e),this.exists)},t[Symbol.iterator]=function*(){for(var e=1;e<=8;e++)yield this.get(e)},e}();e.Generations=h;var c=function(){function e(e,t){this.dex=e,this.exists=t,this.abilities=new u(this.dex,this.exists),this.items=new d(this.dex,this.exists),this.moves=new f(this.dex,this.exists),this.species=new l(this.dex,this.exists),this.natures=new g(this.dex,this.exists),this.types=new x(this.dex,this.exists),this.learnsets=new D(this,this.dex,this.exists),this.conditions=new p(this.dex,this.exists),this.stats=new I(this.dex)}var t=e.prototype;return t.toString=function(){return"[Generation:"+this.num+"]"},t.toJSON=function(){return this.toString()},_createClass(e,[{key:"num",get:function(){return this.dex.gen}}]),e}();e.Generation=c;var u=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.abilities.get(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Abilities){var t=this.get(e);t&&(yield t)}},e}();e.Abilities=u;var d=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.items.get(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Items){var t=this.get(e);t&&(yield t)}},e}();e.Items=d;var f=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.moves.get(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Moves){var t=this.get(e);t&&(yield t)}},e}();e.Moves=f;var l=function(){function e(e,t){this.cache=Object.create(null),this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.species.get(e);if(this.exists(t)){var i=t.speciesid||t.id,n=this.cache[i];return n||(this.cache[i]=new v(this.dex,this.exists,t))}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Species){var t=this.get(e);t&&(yield t)}},e}();e.Species=l;var v=function(){function e(t,i,n){var s,r,a,h,c,u,d,f,l,v=this;o(this,n,e.EXCLUDE),this.dex=t,this.dex.gen>=2?(this.gender=n.gender,this.genderRatio=n.genderRatio):this.genderRatio={M:0,F:0},this.dex.gen>=3?(this.abilities={0:n.abilities[0]},n.abilities[1]&&this.dex.abilities.get(n.abilities[1]).gen<=this.dex.gen&&(this.abilities[1]=n.abilities[1]),this.dex.gen>=5&&n.abilities.H&&(this.abilities.H=n.abilities.H),this.dex.gen>=7&&n.abilities.S&&(this.abilities.S=n.abilities.S)):this.abilities={0:""},this.evos=null===(s=n.evos)||void 0===s?void 0:s.filter((function(e){return i(v.dex.species.get(e))})),this.nfe=!!(null===(r=this.evos)||void 0===r?void 0:r.length),this.nfe||(this.evos=void 0),this.cosmeticFormes=null===(a=n.cosmeticFormes)||void 0===a?void 0:a.filter((function(e){return i(v.dex.species.get(e))})),(null===(h=this.cosmeticFormes)||void 0===h?void 0:h.length)||(this.cosmeticFormes=void 0),this.otherFormes=null===(c=n.otherFormes)||void 0===c?void 0:c.filter((function(e){return i(v.dex.species.get(e))})),(null===(u=this.otherFormes)||void 0===u?void 0:u.length)||(this.otherFormes=void 0),this.formeOrder=null===(d=n.formeOrder)||void 0===d?void 0:d.filter((function(e){return i(v.dex.species.get(e))})),(null===(f=this.formeOrder)||void 0===f?void 0:f.length)||(this.formeOrder=void 0),this.formes=null===(l=this.formeOrder)||void 0===l?void 0:l.filter((function(e){return!v.dex.species.get(e).isGigantamax})),this.prevo=n.prevo&&i(this.dex.species.get(n.prevo))?n.prevo:void 0}var t=e.prototype;return t.toString=function(){return this.name},t.toJSON=function(){return o({},this,new Set(["dex"]))},_createClass(e,[{key:"formeNum",get:function(){var e=this;return this.baseSpecies===this.name?this.formeOrder?this.formeOrder.findIndex((function(t){return t===e.name})):0:this.dex.species.get(this.baseSpecies).formeOrder.findIndex((function(t){return t===(e.isGigantamax?e.baseSpecies:e.name)}))}}]),e}();e.Specie=v,v.EXCLUDE=new Set(["abilities","cosmeticFormes","evos","gender","genderRatio","nfe","otherFormes","prevo"]);var p=function(){function e(e,t){this.dex=e,this.exists=t}return e.prototype.get=function(e){var t=this.dex.conditions.get(e);return this.exists(t)?t:void 0},e}();e.Conditions=p;var g=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){if(!(this.dex.gen<3)){var t=this.dex.natures.get(e);return this.exists(t)?t:void 0}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Natures){var t=this.get(e);t&&(yield t)}},e}();e.Natures=g;var y={"-2":.25,"-1":.5,0:1,1:2,2:4},x=function(){function e(e,t){this.cache=Object.create(null),this.dex=e,this.exists=t,this.unknown=new S({effectType:"Type",kind:"Type",id:"",name:"???",exists:e.gen<=4,gen:1,damageTaken:{},HPivs:{},HPdvs:{}},e,this)}var t=e.prototype;return t.get=function(e){if("???"===e)return this.unknown;var t=this.dex.types.get(e);if(this.exists(t)){var i=this.cache[t.id];return i||(this.cache[t.id]=new S(t,this.dex,this))}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Types){var t=this.get(e);t&&(yield t)}this.dex.gen>=2&&this.dex.gen<=4&&(yield this.unknown)},t.getHiddenPower=function(e){return this.dex.getHiddenPower(e)},t.canDamage=function(e,t){return this.dex.getImmunity(e,t)},t.totalEffectiveness=function(e,t){if(!this.canDamage(e,t))return 0;var i=""+this.dex.getEffectiveness(e,t);return y[i]},e}();e.Types=x;var m=[1,2,.5,0],b=["Fire","Water","Grass","Electric","Ice","Psychic","Dark","Dragon"],S=function(){function e(e,t,i){for(var n in Object.assign(this,e),this.types=i,this.category="Fairy"===this.name?void 0:b.includes(this.name)?"Special":"Physical",this.effectiveness={"???":1},t.data.Types){var s=n.charAt(0).toUpperCase()+n.slice(1);this.effectiveness[s]=m[t.data.Types[n].damageTaken[this.name]||0]}}var t=e.prototype;return t.canDamage=function(e){return this.types.canDamage(this.name,e)},t.totalEffectiveness=function(e){return this.types.totalEffectiveness(this.name,e)},t.toString=function(){return this.name},t.toJSON=function(){return o({},this,new Set(["types"]))},e}();e.Type=S;var w=new Set(["cut","fly","surf","strength","flash","rocksmash","waterfall","dive"]),k=new Set(["cut","fly","surf","strength","rocksmash","waterfall","rockclimb"]),D=function(){function e(e,t,i){this.cache=Object.create(null),this.gen=e,this.dex=t,this.exists=i}var s=e.prototype;return s.get=async function(e){var t=await this.dex.learnsets.get(a(e));return this.exists(t)?t:void 0},s[Symbol.iterator]=function(){return i(this,arguments,(function*(){for(var e in this.dex.data.Learnsets||(yield t(this.dex.learnsets.get("LOAD"))),this.dex.data.Learnsets){var i=yield t(this.get(e));i&&(yield yield t(i))}}))},s.all=function(e){return i(this,arguments,(function*(){var i=e.id,n=yield t(this.get(i));for(n||(i="string"==typeof e.battleOnly&&e.battleOnly!==e.baseSpecies?a(e.battleOnly):a(e.baseSpecies),n=yield t(this.get(i)));n&&(yield yield t(n),i="lycanrocdusk"===i||"rockruff"===e.id&&"rockruff"===i?"rockruffdusk":"gastrodoneast"===e.id?"gastrodon":"pumpkaboosuper"===e.id?"pumpkaboo":a(e.battleOnly||e.changesFrom||e.prevo));){var s=this.gen.species.get(i);if(!s)break;e=s,n=yield t(this.get(i))}}))},s.learnable=async function(t,i){var s,r,o=this,a=this.gen.species.get(t);if(a){if(!i){var h=this.cache[a.id];if(h)return h}var c={};try{for(var u,d=n(this.all(a));!(u=await d.next()).done;){var f=u.value;if(f.learnset)for(var l in f.learnset){var v=this.gen.moves.get(l);if(v){var p=f.learnset[l];e.isLegal(v,p,i||this.gen)&&(c[v.id]=p.filter((function(e){return+e.charAt(0)<=o.gen.num})))}}}}catch(e){s={error:e}}finally{try{u&&!u.done&&(r=d.return)&&await r.call(d)}finally{if(s)throw s.error}}return i||(this.cache[a.id]=c),c}},s.canLearn=async function(t,i,s){var r,o,a,h=this.gen.species.get(t);if(!h)return!1;if("string"==typeof(i="string"==typeof i&&this.gen.moves.get(i)||i))return!1;try{for(var c,u=n(this.all(h));!(c=await u.next()).done;){var d=c.value;if(e.isLegal(i,null===(a=d.learnset)||void 0===a?void 0:a[i.id],s||this.gen))return!0}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&await o.call(u)}finally{if(r)throw r.error}}return!1},e.isLegal=function(e,t,i){if(t){var n=t.map((function(e){return Number(e[0])})),s=Math.min.apply(Math,n),r=7===s&&t.every((function(e){return"7"!==e[0]||"7V"===e}))||8===s&&t.every((function(e){return"8"!==e[0]||"8V"===e}));if("Pentagon"===i)return n.includes(6);if("Plus"===i)return n.includes(7)&&!r;if("Galar"===i)return n.includes(8)&&!r;if(s<=4&&(w.has(e.id)||k.has(e.id))){var o="",a=!1;3===s&&(o+="3",a=!0),a&&(a=!w.has(e.id)),(a||n.includes(4))&&(o+="4",a=!0),a&&(a=!k.has(e.id));var h=a?5:Math.min.apply(Math,n.filter((function(e){return e>4})));return(o+="012345678".slice(h)).includes(""+i.num)}return"012345678".slice(s).includes(""+i.num)}},e}();e.Learnsets=D;var O=["hp","atk","def","spe","spa","spd"],_={HP:"hp",hp:"hp",Attack:"atk",Atk:"atk",atk:"atk",Defense:"def",Def:"def",def:"def","Special Attack":"spa",SpA:"spa",SAtk:"spa",SpAtk:"spa",spa:"spa",Special:"spa",spc:"spa",Spc:"spa","Special Defense":"spd",SpD:"spd",SDef:"spd",SpDef:"spd",spd:"spd",Speed:"spe",Spe:"spe",Spd:"spe",spe:"spe"},P={hp:["HP","HP"],atk:["Atk","Attack"],def:["Def","Defense"],spa:["SpA","Special Attack"],spd:["SpD","Special Defense"],spe:["Spe","Speed"],spc:["Spc","Special"]},I=function(){function e(e){this.dex=e}var t=e.prototype;return t.calc=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:31,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=arguments.length>5?arguments[5]:void 0;if(void 0===n&&(n=this.dex.gen<3?252:0),this.dex.gen<3&&(i=2*this.toDV(i),o=void 0),"hp"===e)return 1===t?t:r(r(2*t+i+r(n/4)+100)*s/100+10);var a=r(r(2*t+i+r(n/4))*s/100+5);if(void 0!==o){if(o.plus===e)return r(r(110*a,16)/100);if(o.minus===e)return r(r(90*a,16)/100)}return a},t.get=function(e){return _[e]},t.display=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=_[e];return void 0===i?e:(1===this.dex.gen&&"spa"===i&&(i="spc"),P[i][+t])},t.fill=function(e,t){for(var i=0;i<O.length;i++){var n=O[i];n in e||(e[n]=t)}return e},t.getHPDV=function(e){return this.toDV(void 0===e.atk?31:e.atk)%2*8+this.toDV(void 0===e.def?31:e.def)%2*4+this.toDV(void 0===e.spe?31:e.spe)%2*2+this.toDV(void 0===e.spa?31:e.spa)%2},t[Symbol.iterator]=function*(){for(var e=0;e<O.length;e++){var t=O[e];yield t}},t.toDV=function(e){return Math.floor(e/2)},t.toIV=function(e){return 2*e+1},e}();e.Stats=I,window.Generations=e.Generations}();